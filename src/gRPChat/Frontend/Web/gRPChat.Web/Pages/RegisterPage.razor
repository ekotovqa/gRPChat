@page "/register"

@layout LoginLayout

@inject AuthorizeAPI _authorizeAPI
@inject NavigationManager _navigationManager

<RadzenLogin Login="@OnRegister"
             LoginText="Register"
             Register="@ToLogin"
             RegisterText="To Login">

</RadzenLogin>

@code {

    private async Task OnRegister(LoginArgs args)
    {
        var success = await _authorizeAPI.Register(args.Username, args.Password);

        if (success)
            _navigationManager.NavigateTo("/");
    }

    private void ToLogin() => _navigationManager.NavigateTo("/login");

}
