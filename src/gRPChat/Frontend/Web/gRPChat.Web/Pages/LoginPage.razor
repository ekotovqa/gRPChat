@page "/login"

@layout LoginLayout

@inject AuthorizeAPI _authorizeAPI
@inject NavigationManager _navigationManager

<RadzenLogin Login="@OnLogin"
             Register="@OnRegister">

</RadzenLogin>

@code {

    private async Task OnLogin(LoginArgs args)
    {
        var login = args.Username;
        var password = args.Password;

        var succes = await _authorizeAPI.Login(login, password);

        if (succes)
            _navigationManager.NavigateTo("/");
    }

    private void OnRegister() => _navigationManager.NavigateTo("/register");
}
